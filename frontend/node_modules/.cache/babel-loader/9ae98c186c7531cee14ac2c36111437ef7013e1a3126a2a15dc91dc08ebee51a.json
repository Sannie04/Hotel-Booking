{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{Container,Row,Col,Form,Button}from'react-bootstrap';import{updatePassword}from'../redux/actions/UserActions';import Message from'../components/Message';import Loader from'../components/Loader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PasswordScreen=()=>{const dispatch=useDispatch();let navigate=useNavigate();const[oldPassword,setOldPassword]=useState(\"\");const[newPassword,setNewPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[errConfirmPassword,setErrConfirmPassowrd]=useState(\"\");const{success,loading,error}=useSelector(state=>state.passwordUpdate);const handleSubmit=e=>{e.preventDefault();if(newPassword===confirmPassword){dispatch(updatePassword({oldPassword,newPassword}));setErrConfirmPassowrd(\"\");}else{setErrConfirmPassowrd(\"New Password must match confirm password\");}};useEffect(()=>{if(success){navigate(\"/account/password\");setOldPassword(\"\");setNewPassword(\"\");setConfirmPassword(\"\");}},[success,dispatch,navigate]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{xs:12,md:6,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Update Password\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),errConfirmPassword&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errConfirmPassword}),success&&/*#__PURE__*/_jsx(Message,{variant:\"primary\",children:\"Password Updated\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"oldPassword\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Old Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:oldPassword,placeholder:\"Old Password\",onChange:e=>setOldPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"newPassword\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"New Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:newPassword,placeholder:\"New Password\",onChange:e=>setNewPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmPassword\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:confirmPassword,placeholder:\"Confirm Password\",onChange:e=>setConfirmPassword(e.target.value)})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:loading?/*#__PURE__*/_jsx(Loader,{}):`Update`})})]})]})})});};export default PasswordScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSelector","useDispatch","Container","Row","Col","Form","Button","updatePassword","Message","Loader","jsx","_jsx","jsxs","_jsxs","PasswordScreen","dispatch","navigate","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","errConfirmPassword","setErrConfirmPassowrd","success","loading","error","state","passwordUpdate","handleSubmit","e","preventDefault","children","className","xs","md","variant","onSubmit","Group","controlId","Label","Control","type","value","placeholder","onChange","target"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/screens/PasswordScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch, RootStateOrAny } from 'react-redux';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport { updatePassword } from '../redux/actions/UserActions';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { IUpdatePassword } from '../interfaces/IUser';\n\nconst PasswordScreen: React.FC = () => {\n\n    const dispatch = useDispatch();\n    let navigate = useNavigate();\n\n    const [oldPassword, setOldPassword] = useState<IUpdatePassword['oldPassword']>(\"\");\n    const [newPassword, setNewPassword] = useState<IUpdatePassword['newPassword']>(\"\");\n    const [confirmPassword, setConfirmPassword] = useState<IUpdatePassword['confirmPassword']>(\"\");\n    const [errConfirmPassword, setErrConfirmPassowrd] = useState<IUpdatePassword['errConfirmPassword']>(\"\");\n\n    const { success, loading, error } = useSelector((state: RootStateOrAny) => state.passwordUpdate);\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        if(newPassword === confirmPassword) {\n            dispatch(updatePassword({ oldPassword, newPassword }));\n            setErrConfirmPassowrd(\"\");\n        } else {\n            setErrConfirmPassowrd(\"New Password must match confirm password\")\n        }\n    }\n\n    useEffect(() => {\n        if(success) {\n            navigate(\"/account/password\");\n            setOldPassword(\"\");\n            setNewPassword(\"\");\n            setConfirmPassword(\"\");\n        }\n    }, [success, dispatch,navigate]);\n    \n\n  return (\n      <Container>\n        <Row className='justify-content-center'>\n            <Col xs={12} md={6}>\n                <h2 className=\"mb-4\">Update Password</h2>\n                {error && <Message variant=\"danger\">{error}</Message>}\n                {errConfirmPassword && <Message variant=\"danger\">{errConfirmPassword}</Message>}\n                {success && <Message variant=\"primary\">Password Updated</Message>}\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group controlId=\"oldPassword\" className=\"mb-3\">\n                        <Form.Label>Old Password</Form.Label>\n                        <Form.Control \n                            type=\"password\" \n                            value={oldPassword} \n                            placeholder=\"Old Password\" \n                            onChange={(e) => setOldPassword(e.target.value)}\n                        >\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"newPassword\" className=\"mb-3\">\n                        <Form.Label>New Password</Form.Label>\n                        <Form.Control \n                            type=\"password\" \n                            value={newPassword} \n                            placeholder=\"New Password\" \n                            onChange={(e) => setNewPassword(e.target.value)}\n                        >\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"confirmPassword\" className=\"mb-3\">\n                        <Form.Label>Confirm Password</Form.Label>\n                        <Form.Control \n                            type=\"password\" \n                            value={confirmPassword} \n                            placeholder=\"Confirm Password\" \n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                        >\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">\n                            {loading ? <Loader /> : `Update`}\n                        </Button>\n                    </Form.Group>\n                </Form>\n            </Col>\n        </Row>\n    </Container>\n  );\n};\n\nexport default PasswordScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}