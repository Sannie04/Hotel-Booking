{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{Container,Row,Col,Form,Button}from'react-bootstrap';import{login}from'../redux/actions/UserActions';import Message from'../components/Message';import Loader from'../components/Loader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginScreen=()=>{let navigate=useNavigate();const dispatch=useDispatch();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const{userInfo,loading,error,success}=useSelector(state=>state.userLogin);const handleSubmit=e=>{e.preventDefault();dispatch(login({email,password}));};useEffect(()=>{if(success||userInfo){navigate(\"/\");}},[userInfo,success,dispatch,navigate]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{xs:12,md:6,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"E-Mail\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,placeholder:\"E-Mail\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,placeholder:\"Password\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:loading?/*#__PURE__*/_jsx(Loader,{}):`Login`})})]})]})})});};export default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSelector","useDispatch","Container","Row","Col","Form","Button","login","Message","Loader","jsx","_jsx","jsxs","_jsxs","LoginScreen","navigate","dispatch","email","setEmail","password","setPassword","userInfo","loading","error","success","state","userLogin","handleSubmit","e","preventDefault","children","className","xs","md","variant","onSubmit","Group","controlId","Label","Control","type","value","placeholder","onChange","target"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/screens/LoginScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch, RootStateOrAny } from 'react-redux';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport { login } from '../redux/actions/UserActions';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { IUser } from '../interfaces/IUser';\n\nconst LoginScreen: React.FC = () => {\n\n    let navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    const [email, setEmail] = useState<IUser['email']>(\"\");\n    const [password, setPassword] = useState<IUser['password']>(\"\");\n\n    const { userInfo, loading, error, success } = useSelector((state: RootStateOrAny) => state.userLogin);\n\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        dispatch(login({ email, password }));\n    }\n\n    useEffect(() => {\n        if(success || userInfo) {\n            navigate(\"/\");\n        }\n    }, [userInfo, success, dispatch,navigate]);\n    \n\n  return (\n      <Container>\n        <Row className='justify-content-center'>\n            <Col xs={12} md={6}>\n                <h2 className=\"mb-4\">Login</h2>\n                {error && <Message variant=\"danger\">{error}</Message>}\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group controlId=\"email\" className=\"mb-3\">\n                        <Form.Label>E-Mail</Form.Label>\n                        <Form.Control \n                            type=\"email\" \n                            value={email} \n                            placeholder=\"E-Mail\" \n                            onChange={(e) => setEmail(e.target.value)}\n                        >\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"password\" className=\"mb-3\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control \n                            type=\"password\" \n                            value={password} \n                            placeholder=\"Password\" \n                            onChange={(e) => setPassword(e.target.value)}\n                        >\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">\n                            {loading ? <Loader /> : `Login`}\n                        </Button>\n                    </Form.Group>\n                </Form>\n            </Col>\n        </Row>\n    </Container>\n  );\n};\n\nexport default LoginScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}