{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Container,Row,Col}from'react-bootstrap';import RoomCard from\"../components/RoomCard\";import{useSelector,useDispatch}from'react-redux';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import SearchRooms from\"../components/SearchRooms\";import{fetchRooms}from'../redux/actions/RoomActions';import Paginate from\"../components/Paginate\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const HomeScreen=()=>{const dispatch=useDispatch();const[keyword,setKeyword]=useState(\"\");const[numOfBeds,setNumOfBeds]=useState(\"\");const[roomType,setRoomType]=useState(\"\");const[currentPage,setCurrentPage]=useState(1);const{loading,rooms,count,error}=useSelector(state=>state.roomsFetch);useEffect(()=>{dispatch(fetchRooms(keyword,numOfBeds,roomType,currentPage));},[dispatch,keyword,numOfBeds,roomType,currentPage]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"All Rooms\"})})}),/*#__PURE__*/_jsx(SearchRooms,{keyword:keyword,setKeyword:setKeyword,numOfBeds:numOfBeds,setNumOfBeds:setNumOfBeds,roomType:roomType,setRoomType:setRoomType}),/*#__PURE__*/_jsx(Row,{children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):rooms.length>0?/*#__PURE__*/_jsx(_Fragment,{children:rooms.map(room=>/*#__PURE__*/_jsx(Col,{md:3,sm:6,xs:12,children:/*#__PURE__*/_jsx(RoomCard,{...room})},room._id))}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Message,{variant:\"info\",children:\"No Room Available\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:count!==0&&/*#__PURE__*/_jsx(Paginate,{currentPage:currentPage,setCurrentPage:setCurrentPage,totalPosts:count,postPerPage:4})})})]});};export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","RoomCard","useSelector","useDispatch","Loader","Message","SearchRooms","fetchRooms","Paginate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HomeScreen","dispatch","keyword","setKeyword","numOfBeds","setNumOfBeds","roomType","setRoomType","currentPage","setCurrentPage","loading","rooms","count","error","state","roomsFetch","children","className","variant","length","map","room","md","sm","xs","_id","totalPosts","postPerPage"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/screens/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col } from 'react-bootstrap';\nimport RoomCard from \"../components/RoomCard\";\nimport { useSelector, useDispatch, RootStateOrAny } from 'react-redux';\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport { IRoom } from '../interfaces/IRoom';\nimport SearchRooms from \"../components/SearchRooms\";\nimport { fetchRooms } from '../redux/actions/RoomActions';\nimport Paginate from \"../components/Paginate\";\n\n\nconst HomeScreen = () => {\n\n  const dispatch = useDispatch();\n\n  const [keyword, setKeyword] = useState<string>(\"\");\n  const [numOfBeds, setNumOfBeds] = useState<number | string>(\"\");\n  const [roomType, setRoomType] = useState<string>(\"\");\n\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const { loading, rooms, count, error } = useSelector((state: RootStateOrAny) => state.roomsFetch);\n\n  useEffect(() => {\n    dispatch(fetchRooms(keyword, numOfBeds, roomType, currentPage));\n  }, [dispatch, keyword, numOfBeds, roomType, currentPage]);\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <h2 className=\"mb-4\">All Rooms</h2>\n        </Col>\n      </Row>\n      <SearchRooms \n        keyword={keyword} \n        setKeyword={setKeyword}\n        numOfBeds={numOfBeds}\n        setNumOfBeds={setNumOfBeds}\n        roomType={roomType}\n        setRoomType={setRoomType}\n      />\n      <Row>\n        {loading ? <Loader /> : error ? <Message variant=\"danger\">{error}</Message> : rooms.length > 0 ?\n          <>\n            {rooms.map((room: IRoom) =>\n              <Col key={room._id} md={3} sm={6} xs={12} >\n                <RoomCard {...room} />\n              </Col>\n            )}\n          </>\n        : (\n          <>\n            <Message variant=\"info\">No Room Available</Message>\n          </>\n        )}\n      </Row>\n      <Row>\n        <Col md={12}>\n          {count !== 0 && (\n            <Paginate\n              currentPage={currentPage}\n              setCurrentPage={setCurrentPage}\n              totalPosts={count}\n              postPerPage={4}\n            />\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default HomeScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}