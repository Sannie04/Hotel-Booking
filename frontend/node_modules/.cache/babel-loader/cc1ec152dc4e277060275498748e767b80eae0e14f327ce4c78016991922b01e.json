{"ast":null,"code":"var _jsxFileName = \"D:\\\\NAM3\\\\DACN\\\\hotel-booking-main\\\\frontend\\\\src\\\\screens\\\\AdminEditUserScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Container, Col, Row, Form, Button } from 'react-bootstrap';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { detailsUser, updateUser } from '../redux/actions/UserActions';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { UPDATE_USER_RESET } from '../redux/constants/UserConstants';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminEditUserScreen = () => {\n  _s();\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const {\n    user,\n    loading,\n    error\n  } = useSelector(state => state.userDetails);\n  const {\n    loading: loadingUpdate,\n    success: successUpdate,\n    error: errorUpdate\n  } = useSelector(state => state.userUpdate);\n  useEffect(() => {\n    if (!user || user._id !== id || successUpdate) {\n      dispatch({\n        type: UPDATE_USER_RESET\n      });\n      dispatch(detailsUser(id));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setIsAdmin(user.isAdmin);\n    }\n    if (error) {\n      navigate(\"/\");\n    }\n  }, [dispatch, user, id, successUpdate]);\n  const handlerSubmit = e => {\n    e.preventDefault();\n    dispatch(updateUser(user._id, {\n      name,\n      email,\n      isAdmin\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mb-3\",\n          children: \"Update User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        md: 6,\n        children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this), !loading && user && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [errorUpdate && /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            children: errorUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handlerSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"name\",\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: name,\n                placeholder: \"Full Name\",\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"email\",\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"E-Mail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                value: email,\n                placeholder: \"E-Mail\",\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"isAdmin\",\n              children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"checkbox\",\n                label: \"Is Admin\",\n                checked: isAdmin ? true : false,\n                onChange: e => setIsAdmin(!isAdmin)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-3\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                children: loadingUpdate ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 54\n                }, this) : `Update`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminEditUserScreen, \"weukGI2s15o7vWp+ifG70w6JtSo=\", false, function () {\n  return [useDispatch, useNavigate, useParams, useSelector, useSelector];\n});\n_c = AdminEditUserScreen;\nexport default AdminEditUserScreen;\nvar _c;\n$RefreshReg$(_c, \"AdminEditUserScreen\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Container","Col","Row","Form","Button","useParams","useNavigate","detailsUser","updateUser","Loader","Message","UPDATE_USER_RESET","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminEditUserScreen","_s","dispatch","navigate","id","name","setName","email","setEmail","isAdmin","setIsAdmin","user","loading","error","state","userDetails","loadingUpdate","success","successUpdate","errorUpdate","userUpdate","_id","type","handlerSubmit","e","preventDefault","children","md","className","fileName","_jsxFileName","lineNumber","columnNumber","xs","variant","onSubmit","Group","controlId","Label","Control","value","placeholder","onChange","target","Check","label","checked","_c","$RefreshReg$"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/screens/AdminEditUserScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\nimport { Container, Col, Row, Form, Button } from 'react-bootstrap'\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { IUser } from '../interfaces/IUser';\nimport { detailsUser, updateUser } from '../redux/actions/UserActions';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { UPDATE_USER_RESET } from '../redux/constants/UserConstants';\n\ntype TId = {\n    id: IUser['_id']\n}\n\nconst AdminEditUserScreen = () => {\n\n    const dispatch = useDispatch();\n    let navigate = useNavigate();\n\n    const { id } = useParams<TId>();\n    const [name, setName] = useState<IUser['name']>(\"\");\n    const [email, setEmail] = useState<IUser['email']>(\"\");\n    const [isAdmin, setIsAdmin] = useState<IUser['isAdmin']>(false);\n\n    const { user, loading, error } = useSelector((state: RootStateOrAny) => state.userDetails);\n\n    const { loading: loadingUpdate, success: successUpdate, error: errorUpdate } = useSelector((state: RootStateOrAny) => state.userUpdate);\n\n    useEffect(() => {\n        if(!user || user._id !== id || successUpdate) {\n            dispatch({ type: UPDATE_USER_RESET });\n            dispatch(detailsUser(id as string));\n        } else {\n            setName(user.name);\n            setEmail(user.email);\n            setIsAdmin(user.isAdmin);\n        }\n\n        if(error) {\n            navigate(\"/\");\n        }\n    }, [dispatch, user, id, successUpdate])\n    \n    const handlerSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        dispatch(updateUser(user._id as string, { name, email, isAdmin }));\n    }\n\n  return (\n    <Container>\n        <Row>\n            <Col md={12}>\n                <h3 className='mb-3'>Update User</h3>\n            </Col>\n        </Row>\n        <Row className=\"justify-content-center\">\n            <Col xs={12} md={6}>\n                {loading && <Loader />}\n                {!loading && user && (\n                    <>\n                        {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n                        <Form onSubmit={handlerSubmit}>\n                            <Form.Group controlId=\"name\" className=\"mb-3\">\n                                <Form.Label>Full Name</Form.Label>\n                                <Form.Control \n                                    type=\"text\" \n                                    value={name} \n                                    placeholder=\"Full Name\" \n                                    onChange={(e) => setName(e.target.value)}\n                                >\n                                </Form.Control>\n                            </Form.Group>\n                            <Form.Group controlId=\"email\" className=\"mb-3\">\n                                <Form.Label>E-Mail</Form.Label>\n                                <Form.Control \n                                    type=\"email\" \n                                    value={email} \n                                    placeholder=\"E-Mail\" \n                                    onChange={(e) => setEmail(e.target.value)}\n                                >\n                                </Form.Control>\n                            </Form.Group>\n                            <Form.Group controlId=\"isAdmin\">\n                                <Form.Check \n                                    type=\"checkbox\" \n                                    label=\"Is Admin\" \n                                    checked={isAdmin ? true : false}\n                                    onChange={(e) => setIsAdmin(!isAdmin)}\n                                />\n                            </Form.Group>\n                            <Form.Group className=\"mt-3\">\n                                <Button type=\"submit\">\n                                    {loadingUpdate ? <Loader /> : `Update`}\n                                </Button>\n                            </Form.Group>\n                        </Form>\n                    </>\n                )}\n            </Col>\n        </Row>\n    </Container>\n  )\n}\n\nexport default AdminEditUserScreen"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}