{"ast":null,"code":"import React,{useState}from'react';import{Form,FormGroup,Button,FloatingLabel}from'react-bootstrap';import{createRoomReview}from'../redux/actions/RoomActions';import{Link}from'react-router-dom';import{useDispatch}from'react-redux';import Message from'./Message';import{useAuthStatus}from'../hooks/useAuthStatus';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FormReview=_ref=>{let{idRoom}=_ref;const{loggedIn}=useAuthStatus();const dispatch=useDispatch();const[comment,setComment]=useState(\"\");const[rating,setRating]=useState(0);const[hover,setHover]=useState(0);const handleReview=e=>{e.preventDefault();if(comment!==\"\"){dispatch(createRoomReview(idRoom,{rating,comment}));setComment(\"\");setRating(0);}};return/*#__PURE__*/_jsx(_Fragment,{children:loggedIn?/*#__PURE__*/_jsxs(Form,{onSubmit:handleReview,children:[/*#__PURE__*/_jsx(FormGroup,{className:\"field-rating\",children:[...Array(5)].map((star,index)=>{index+=1;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:index<=(hover||rating)?\"bi bi-star-fill\":\"bi bi-star\",onClick:()=>setRating(index),onMouseEnter:()=>setHover(index),onMouseLeave:()=>setHover(rating)},index);})}),/*#__PURE__*/_jsx(FormGroup,{className:\"mt-3 mb-3\",children:/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingTextarea2\",label:\"Comments\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Leave a comment here\",name:\"comment\",value:comment,onChange:e=>setComment(e.target.value),style:{height:'100px'}})})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add Review\"})})]}):/*#__PURE__*/_jsxs(Message,{variant:\"info\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign in\"}),\" to write a review\"]})});};export default FormReview;","map":{"version":3,"names":["React","useState","Form","FormGroup","Button","FloatingLabel","createRoomReview","Link","useDispatch","Message","useAuthStatus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FormReview","_ref","idRoom","loggedIn","dispatch","comment","setComment","rating","setRating","hover","setHover","handleReview","e","preventDefault","children","onSubmit","className","Array","map","star","index","type","onClick","onMouseEnter","onMouseLeave","controlId","label","Control","as","placeholder","name","value","onChange","target","style","height","variant","to"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/components/FormReview.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, FormGroup, Button, FloatingLabel } from 'react-bootstrap'\nimport { createRoomReview } from '../redux/actions/RoomActions';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Message from './Message';\nimport { useAuthStatus } from '../hooks/useAuthStatus';\nimport { IRoom } from '../interfaces/IRoom';\n\ntype TFormReview = {\n    idRoom: IRoom['_id']\n}\n\nconst FormReview: React.FC<TFormReview> = ({ idRoom }) => {\n\n    const { loggedIn } = useAuthStatus();\n\n    const dispatch = useDispatch();\n    const [comment, setComment] = useState<string>(\"\");\n    const [rating, setRating] = useState<number>(0);\n    const [hover, setHover] = useState<number>(0);\n\n    const handleReview = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if(comment !== \"\") {\n            dispatch(createRoomReview(idRoom, { rating, comment }));\n            setComment(\"\");\n            setRating(0);\n        }\n\n    }\n\n\n  return (\n      <>\n        {loggedIn ? (\n            <Form onSubmit={handleReview}>\n                <FormGroup className=\"field-rating\">\n                    {[...Array(5)].map((star, index) => {\n                        index += 1;\n                        return (\n                        <button\n                            type=\"button\"\n                            key={index}\n                            className={index <= (hover || rating) ? \"bi bi-star-fill\" : \"bi bi-star\"}\n                            onClick={() => setRating(index)}\n                            onMouseEnter={() => setHover(index)}\n                            onMouseLeave={() => setHover(rating)}\n                        >\n                        </button>\n                        );\n                    })}\n                </FormGroup>\n                <FormGroup className=\"mt-3 mb-3\">\n                    <FloatingLabel controlId=\"floatingTextarea2\" label=\"Comments\">\n                        <Form.Control\n                        as=\"textarea\"\n                        placeholder=\"Leave a comment here\"\n                        name=\"comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        style={{ height: '100px' }}\n                        />\n                    </FloatingLabel>\n                </FormGroup>\n                <FormGroup>\n                    <Button type=\"submit\">\n                        Add Review\n                    </Button>\n                </FormGroup>\n            </Form>\n        ) : (\n            <Message variant=\"info\">\n                <Link to=\"/login\">Sign in</Link> to write a review\n            </Message>\n        )}\n    </>\n  );\n};\n\nexport default FormReview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}