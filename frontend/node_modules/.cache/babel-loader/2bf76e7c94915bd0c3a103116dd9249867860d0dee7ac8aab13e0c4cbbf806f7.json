{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Table,Button}from'react-bootstrap';import{useSelector,useDispatch}from'react-redux';import{LinkContainer}from'react-router-bootstrap';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import Paginate from'../components/Paginate';import{fetchRooms,deleteRoom}from'../redux/actions/RoomActions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminRoomsScreen=()=>{const dispatch=useDispatch();const[currentPage,setCurrentPage]=useState(1);const{loading,rooms,count,error}=useSelector(state=>state.roomsFetch);const{loading:loadingDelete,success:successDelete,error:errorDelete}=useSelector(state=>state.roomDelete);const handleDelete=id=>{dispatch(deleteRoom(id));};useEffect(()=>{dispatch(fetchRooms(\"\",\"\",\"\",currentPage));},[dispatch,currentPage,successDelete]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rooms\"}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/rooms/create\",children:/*#__PURE__*/_jsx(Button,{children:\"Create Room\"})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:12,children:[loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),\" \",errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),\" \",/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Adresse\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):rooms.map(room=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:room._id}),/*#__PURE__*/_jsx(\"td\",{children:room.name}),/*#__PURE__*/_jsx(\"td\",{children:room.address}),/*#__PURE__*/_jsx(\"td\",{children:room.category}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",room.pricePerNight]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:`/admin/rooms/${room._id}/edit`,children:/*#__PURE__*/_jsx(Button,{children:\"Edit\"})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDelete(room._id),children:\"Delete\"})]})]},room._id))})]})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:count!==0&&/*#__PURE__*/_jsx(Paginate,{currentPage:currentPage,setCurrentPage:setCurrentPage,totalPosts:count,postPerPage:4})})})]});};export default AdminRoomsScreen;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Table","Button","useSelector","useDispatch","LinkContainer","Loader","Message","Paginate","fetchRooms","deleteRoom","jsx","_jsx","jsxs","_jsxs","AdminRoomsScreen","dispatch","currentPage","setCurrentPage","loading","rooms","count","error","state","roomsFetch","loadingDelete","success","successDelete","errorDelete","roomDelete","handleDelete","id","children","className","to","md","variant","striped","bordered","hover","size","map","room","_id","name","address","category","pricePerNight","onClick","totalPosts","postPerPage"],"sources":["D:/NAM3/DACN/hotel-booking-main/frontend/src/screens/AdminRoomsScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Table, Button } from 'react-bootstrap';\nimport { useSelector, useDispatch, RootStateOrAny } from 'react-redux';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport Paginate from '../components/Paginate';\nimport { IRoom } from '../interfaces/IRoom';\nimport { fetchRooms, deleteRoom } from '../redux/actions/RoomActions';\n\ntype AdminRoom = Pick<IRoom, \"_id\" | \"name\" | \"address\" | \"category\" | \"pricePerNight\">\n\nconst AdminRoomsScreen = () => {\n  const dispatch = useDispatch();\n\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const { loading, rooms, count, error } = useSelector((state: RootStateOrAny) => state.roomsFetch);\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = useSelector((state: RootStateOrAny) => state.roomDelete);\n\n  const handleDelete = (id: IRoom['_id']) => {\n    dispatch(deleteRoom(id));\n  };\n\n  useEffect(() => {\n    dispatch(fetchRooms(\"\", \"\", \"\", currentPage));\n  }, [dispatch, currentPage, successDelete]);\n\n  return (\n    <Container>\n      <div className=\"mb-4 d-flex align-items-center justify-content-between\">\n        <h3>Rooms</h3>\n        <LinkContainer to=\"/admin/rooms/create\">\n          <Button>Create Room</Button>\n        </LinkContainer>\n      </div>\n\n      <Row>\n        <Col md={12}>\n          {loadingDelete && <Loader />} {/* Show loader when deleting */}\n          {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>} {/* Show error when deleting */}\n\n          <Table striped bordered hover size=\"sm\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Adresse</th>\n                <th>Category</th>\n                <th>Price</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loading ? <Loader /> : error ? <Message variant=\"danger\">{error}</Message> : (\n                rooms.map((room: AdminRoom) =>\n                  <tr key={room._id}>\n                    <td>{room._id}</td>\n                    <td>{room.name}</td>\n                    <td>{room.address}</td>\n                    <td>{room.category}</td>\n                    <td>${room.pricePerNight}</td>\n                    <td>\n                      <LinkContainer to={`/admin/rooms/${room._id}/edit`}>\n                        <Button>Edit</Button>\n                      </LinkContainer>\n                      <Button variant=\"danger\" onClick={() => handleDelete(room._id)}>\n                        Delete\n                      </Button>\n                    </td>\n                  </tr>\n                )\n              )}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col md={12}>\n          {count !== 0 && (\n            <Paginate\n              currentPage={currentPage}\n              setCurrentPage={setCurrentPage}\n              totalPosts={count}\n              postPerPage={4}\n            />\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default AdminRoomsScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}